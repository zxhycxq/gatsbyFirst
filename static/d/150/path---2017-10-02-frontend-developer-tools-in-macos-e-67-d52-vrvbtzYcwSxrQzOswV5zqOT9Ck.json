{"data":{"content":{"edges":[{"node":{"id":"6daa1693-f316-5382-9102-a13a93c9c63f","html":"<h2 id=\"前言\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h2>\n<p>經過 2017 年香港開源年會之後，我都沒有去看香港的開放數據做得怎麼樣。今天香港正懸掛八號風球，正好是一個機會去了解一下。香港政府有一個開放數據平台，資料一線通，以多種檔案格式提供多個政府部門類別，機構的一些查詢資料，比如說天氣預報，中學教育統計資料。值得注意的是，這些檔案並不是 ODF，而是 xls, xml, csv, json, gif, txt, tif。。。</p>\n<h2 id=\"使用-api\"><a href=\"#%E4%BD%BF%E7%94%A8-api\" aria-label=\"使用 api permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用 API</h2>\n<p>第一眼看到的時候，我就想可不可以直接複製貼上測試一下，結果發現是不行的。。。</p>\n<p><img src=\"https://i.imgur.com/cwI9gp7.png\"></p>\n<p>\"歷史檔案文件列表應用程式界面\" 其實這個名字會不會有點長，我在閱讀下文的時候看到這麼長的字也很難聯想到剛才有看過。而且如果直接在瀏覽器輸入第一句的話，只會返回 400 Bad Request。。。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{\n  &quot;message&quot; : &quot;REQUEST ERROR: start parameter missing&quot;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"香港天文台提供的數據\"><a href=\"#%E9%A6%99%E6%B8%AF%E5%A4%A9%E6%96%87%E5%8F%B0%E6%8F%90%E4%BE%9B%E7%9A%84%E6%95%B8%E6%93%9A\" aria-label=\"香港天文台提供的數據 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>香港天文台提供的數據</h2>\n<p>如果想要獲取香港天文台在平台上，2016 年 1 月 1 日到 1 月 2 日的開放資料，就可以輸入這一句到命令行里：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">curl</span> https://api.data.gov.hk/v1/historical-archive/list-files?start<span class=\"token operator\">=</span>20160101<span class=\"token operator\">&amp;</span>end<span class=\"token operator\">=</span>20160102<span class=\"token operator\">&amp;</span>provider<span class=\"token operator\">=</span>hk-hko</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>返回的結果太長，prettify 後的檔案更加是高達 362 行。。。</p>\n<p>有興趣的話，你可以透過<a href=\"https://gist.github.com/calpa/11b75ce631d9a3809e17fb6b9ed15d6b\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">這個鏈接</a>看一下。。。</p>\n<p>這個看起來不錯，有很多東西在裡面。但是，你可能會發現數據結構有點奇怪，一個數組去儲存所有的資料，這裡我就不展開了。</p>\n<p>如果看到最後，你就會發現 <strong>file-count</strong> 提供文檔總數，其實直接計算一下 <strong>file</strong> 的長度就可以了，上面的例子共有 21 份文檔。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">file<span class=\"token punctuation\">.</span>length <span class=\"token comment\">// 21</span>\nfile<span class=\"token operator\">-</span>count <span class=\"token comment\">// 21</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><img src=\"https://i.imgur.com/Hik48CC.png\"></p>\n<p>你可以進去下載數據，比如說進入<a href=\"http://rss.weather.gov.hk/rss/CurrentWeather_uc.xml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">本港地區天氣報告</a>，但你會發現它把最重要的資料放了在 description 裡面，用一個 tr, td, td 的形式展現出來，這就不如你用 HTML 展現吧。。。</p>\n<h2 id=\"xml\"><a href=\"#xml\" aria-label=\"xml permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>XML</h2>\n<blockquote>\n<p>與許多 HTML 元素不同的是，XML 元素的基礎是其功能，而非其格式。你不應該根據標記，就假定任何的格式或樣式。相反地， XML 把版面配置留給樣規。樣規是獨立的文件，把元素配上樣式。</p>\n</blockquote>\n<p>如果寫 XML 的話，最重要是把資料都顯示出來，格式都是其次的。在 XML 中，我們可以自由地定義標籤，充分地表達自己的意思。也許，我應該之後寫一篇關於 XML 的文章。。。</p>\n<p>本來，我是想繼續寫的，但是看到那些莫名其妙的查詢方法，以及查詢的<a href=\"https://data.gov.hk/tc-data/provider/hk-hko\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">香港天文台開放數據網頁</a>都只有 xml 格式，我就簡短寫一下就算了。</p>\n<p>如果你好奇為什麼我會提到 ODF 的話，你可以去看一下台灣政府是<a href=\"https://onepiece.nchu.edu.tw/cofsys/plsql/odf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">如何推動開放數據</a>。</p>\n<h2 id=\"後記\"><a href=\"#%E5%BE%8C%E8%A8%98\" aria-label=\"後記 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>後記</h2>\n<p>我也不知道為什麼<a href=\"http://www.ceo.gov.hk/chi/blog/rss/blog_rss.xml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">特首博客的 RSS </a>會報錯。。。</p>\n<h2 id=\"參考資料\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\" aria-label=\"參考資料 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考資料</h2>\n<ol>\n<li><a href=\"https://onepiece.nchu.edu.tw/cofsys/plsql/odf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ODF 政府文件標準格式宣導 ​</a></li>\n<li><a href=\"http://yes.nctu.edu.tw/lecture/web/xml/intro/chapter1.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">國立交通大學 XML 教學</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/#%E5%89%8D%E8%A8%80\">前言</a></li>\n<li><a href=\"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/#%E4%BD%BF%E7%94%A8-api\">使用 API</a></li>\n<li><a href=\"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/#%E9%A6%99%E6%B8%AF%E5%A4%A9%E6%96%87%E5%8F%B0%E6%8F%90%E4%BE%9B%E7%9A%84%E6%95%B8%E6%93%9A\">香港天文台提供的數據</a></li>\n<li><a href=\"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/#xml\">XML</a></li>\n<li><a href=\"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/#%E5%BE%8C%E8%A8%98\">後記</a></li>\n<li><a href=\"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\">參考資料</a></li>\n</ul>","excerpt":"前言經過 201…","fields":{"slug":"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/"},"frontmatter":{"id":"20171106a","title":"香港開放數據平台 - 從入門到放棄","slug":"/2017/06/12/hong-kong-open-data-from-zero-to-give-up/","date":"2017-06-12T03:48:03.125Z","headerImage":null}},"previous":null,"next":null}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"69b3832d-0b5e-5f12-8981-8d6324d51238","index":26}}