{"data":{"content":{"edges":[{"node":{"id":"511dbe19-0979-54bc-9844-ea8a526fdc09","html":"<h2 id=\"前言\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h2>\n<p>上次我們提到 GatsbyJS，它是一個可以獲取任意數據，並生成靜態化網站的系統。這一次，就讓我們以 Calpa 的技術博客作為例子來開始架構網站吧。</p>\n<blockquote>\n<p><a href=\"/2018/11/16/build-a-modern-website-using-gatsbyJS/\">GatsbyJS 入門（一）：打造開箱即用的現代化前端網站</a></p>\n</blockquote>\n<h2 id=\"前提\"><a href=\"#%E5%89%8D%E6%8F%90\" aria-label=\"前提 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前提</h2>\n<ol>\n<li>Git</li>\n<li>Node：從 8.5.0 或更高版本開始的任何 8.x 版本</li>\n</ol>\n<h2 id=\"從零開始啟動項目\"><a href=\"#%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E5%95%9F%E5%8B%95%E9%A0%85%E7%9B%AE\" aria-label=\"從零開始啟動項目 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>從零開始啟動項目</h2>\n<p>GatsbyJS 提供了一個命令行工具，我們可以使用它來快速啟動項目。</p>\n<p><img src=\"https://i.imgur.com/1mK1Qhl.jpg\" alt=\"Imgur\"></p>\n<p>gatsby new 命令的默認 Starter 為：</p>\n<p><a href=\"https://github.com/gatsbyjs/gatsby-starter-default.git\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/gatsbyjs/gatsby-starter-default</a></p>\n<p><img src=\"https://i.imgur.com/uEb7Hks.jpg\" alt=\"Imgur\"></p>\n<p>如果你想體驗我的博客風格的話，你也可以選擇使用我的博客的 Starter:</p>\n<p><a href=\"https://github.com/calpa/gatsby-starter-calpa-blog\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/calpa/gatsby-starter-calpa-blog</a></p>\n<p><img src=\"https://i.imgur.com/zVDKqPG.png\" alt=\"Imgur\"></p>\n<h2 id=\"運行方法\"><a href=\"#%E9%81%8B%E8%A1%8C%E6%96%B9%E6%B3%95\" aria-label=\"運行方法 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>運行方法</h2>\n<ol>\n<li>安裝 gatsby-cli\n<code class=\"language-text\">npm install —global gatsby-cli</code></li>\n<li>命令來建立 Gatsby 的項目文件夾\n<code class=\"language-text\">gatsby new my-awesome-blog https://github.com/calpa/gatsby-starter-calpa-blog</code></li>\n<li>開始跑工程\n<code class=\"language-text\">cd my-awesome-blog npm start</code>\n你的網站會在 <a href=\"http://localhost:8000\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">localhost:8000</a> 裡面運行。</li>\n<li>開始寫代碼\n你可以使用任意編輯器來編輯代碼，如果你修改 src/pages/*.js，例如 404.js。</li>\n</ol>\n<p>保存之後你就可以看到你的瀏覽器是實時同步的。</p>\n<p>如果想要透過 GraphQL 解析數據層，你也可以訪問 <a href=\"http://localhost:8000/___graphql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">localhost:8000/___graphql</a>。</p>\n<p><img src=\"https://i.imgur.com/AeDRACF.jpg\" alt=\"Imgur\"></p>\n<p>值得一提的是：</p>\n<p>在運行 gatsbyjs-starter-calpa-blog 的時候，它會自動打開 Webpack Bundle Analyser，路徑是 <a href=\"http://127.0.0.1:8888/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">127.0.0.1:8888</a>。你可以透過這個打包分析器來閱讀打包代碼的組成部分，然後進行優化。</p>\n<h2 id=\"gatsbyjs-網站架構\"><a href=\"#gatsbyjs-%E7%B6%B2%E7%AB%99%E6%9E%B6%E6%A7%8B\" aria-label=\"gatsbyjs 網站架構 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GatsbyJS 網站架構</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">    .\n    ├── data\n    │   └── template\n    ├── gatsby\n    ├── public\n    ├── scripts\n    ├── src\n    │   ├── api\n    │   ├── components\n    │   ├── pages\n    │   │   ├── guestbook\n    │   │   └── tags\n    │   ├── reducers\n    │   ├── styles\n    │   └── templates\n    └── static\n        └── favicons</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ol>\n<li><code class=\"language-text\">/data</code> : 放置網站的數據，例如配置(config), 頁面頂部大圖(header), 文章 (posts)\n這裡會有兩種配置方法，\n一：是在同一個項目裡面開發頁面框架，修改文章數據。\n二：是使用遠端數據庫，例如 Contentful 來獲取數據，本地不作數據儲存。</li>\n<li><code class=\"language-text\">/data/template</code>: 網站數據模板，你可以參考如何本地的默認配置，然後進行修改。</li>\n<li><code class=\"language-text\">/scripts</code>: 所需要運行的非 gatsby 腳本</li>\n<li><code class=\"language-text\">/src</code>: 所有你在前端看到的代碼，例如頁面模板，展示層</li>\n<li><code class=\"language-text\">/gatsby</code>: 專門放置 Gatsby 構建代碼，已細分為獲取數據，構建，部署，瀏覽器運行的不同生命週期。</li>\n<li><code class=\"language-text\">/static</code>: 你可以把需要直接複製貼上的檔案放到這個目錄下，GatsbyJS 會調用 fs.copy 來直接複製貼上到 public 目錄</li>\n<li><code class=\"language-text\">/public</code>: GatsbyJS 生成的靜態網站文件夾</li>\n</ol>\n<p>系統是使用模板式的設計，模板為首頁的列表設計，和文章的內文設計，他們位於 <code class=\"language-text\">/src/templates/page.js</code> 以及 <code class=\"language-text\">/src/templates/blog-post.js</code>。</p>\n<h2 id=\"部署項目\"><a href=\"#%E9%83%A8%E7%BD%B2%E9%A0%85%E7%9B%AE\" aria-label=\"部署項目 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>部署項目</h2>\n<p>如果你對於項目感到滿意的話，那麼你可以運行 gatsby build，GatsbyJS 會優化網站，並產生 HTML 和每個路由對應的 JavaScript 代碼檔案。</p>\n<p>你可以使用 gatsby serve 來啟動一個本地服務器，來瀏覽生成的網站效果。</p>\n<h2 id=\"後記\"><a href=\"#%E5%BE%8C%E8%A8%98\" aria-label=\"後記 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>後記</h2>\n<p>這個系列應該會寫十篇左右，每週出一篇。</p>\n<blockquote>\n<p><a href=\"/2018/11/16/build-a-modern-website-using-gatsbyJS/\">GatsbyJS 入門（一）：打造開箱即用的現代化前端網站</a></p>\n</blockquote>","tableOfContents":"<ul>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#%E5%89%8D%E8%A8%80\">前言</a></li>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#%E5%89%8D%E6%8F%90\">前提</a></li>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#%E5%BE%9E%E9%9B%B6%E9%96%8B%E5%A7%8B%E5%95%9F%E5%8B%95%E9%A0%85%E7%9B%AE\">從零開始啟動項目</a></li>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#%E9%81%8B%E8%A1%8C%E6%96%B9%E6%B3%95\">運行方法</a></li>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#gatsbyjs-%E7%B6%B2%E7%AB%99%E6%9E%B6%E6%A7%8B\">GatsbyJS 網站架構</a></li>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#%E9%83%A8%E7%BD%B2%E9%A0%85%E7%9B%AE\">部署項目</a></li>\n<li><a href=\"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/#%E5%BE%8C%E8%A8%98\">後記</a></li>\n</ul>","excerpt":"前言上次我們提到 GatsbyJS，它是一個可以獲取任意數據，並生成靜態化網站的系統。這一次，就讓我們以 Calpa 的技術博客作為例子來開始架構網站吧。GatsbyJS 入門（一）：打造開箱即用的現代化前端網站前提GitNode：從 8.5.0 或更高版本開始的任何 8.x…","fields":{"slug":"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/"},"frontmatter":{"id":"20181123a","title":"GatsbyJS 入門（二）：如何以 Starter 快速架構網站","slug":"/2018/11/23/gatsbyjs-2-how-to-use-starter-to-initiate-project/","date":"2018-11-23T03:48:03.125Z","headerImage":null}},"previous":null,"next":null}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"511dbe19-0979-54bc-9844-ea8a526fdc09","index":9}}