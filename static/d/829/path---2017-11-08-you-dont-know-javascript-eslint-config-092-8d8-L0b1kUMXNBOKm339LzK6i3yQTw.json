{"data":{"content":{"edges":[{"node":{"id":"4b058bcf-8206-566a-803d-a61e0a6394a4","html":"<h2 id=\"前言\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h2>\n<p>良好的代碼規範，能夠提高代碼的可閱性，使得項目維護更友好。除了自己設定一個規範外，我們也可以借鑒一下現在流行的代碼規範，讓我們成長之後，再去看細節。</p>\n<p><img src=\"https://i.imgur.com/DPltr6s.png\" alt=\"Code Quality: Good Code vs Bad Code\"></p>\n<h2 id=\"airbnb\"><a href=\"#airbnb\" aria-label=\"airbnb permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Airbnb</h2>\n<p>Airbnb 是其中一個最流行的 JavaScript 代碼規範，它差不多包含所有 JavaScript 的角度。它也是我的個人項目所使用的代碼規範。如果你的項目是基於 React 的，那麼你可以選擇安裝 <a href=\"https://www.npmjs.com/package/eslint-config-airbnb\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">eslint-config-airbnb</a>，或者你可以選擇最基本的 <a href=\"https://www.npmjs.com/package/eslint-config-airbnb-base\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">eslint-config-airbnb-base</a>。</p>\n<p><a href=\"https://www.npmjs.com/package/eslint-config-airbnb\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">eslint-config-airbnb</a> 包含 ECMAScript 6 + 以及 React 的 ESLint 代碼規範。在安裝 <code class=\"language-text\">eslint-config-airbnb</code> 的時候，它會一同安裝 <code class=\"language-text\">eslint</code>, <code class=\"language-text\">eslint-plugin-import</code>, <code class=\"language-text\">eslint-plugin-react</code>, and <code class=\"language-text\">eslint-plugin-jsx-a11y</code>。如果你的項目不是 React 的話，那麼你可以選擇<code class=\"language-text\">eslint-config-airbnb-base</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> eslint-config-airbnb</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><a href=\"https://www.npmjs.com/package/eslint-config-airbnb-base\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">eslint-config-airbnb-base</a> 包含 ECMAScript 6 + 的 ESLint 代碼規範。安裝它的時候，它會需要 <code class=\"language-text\">eslint</code> 和 <code class=\"language-text\">eslint-plugin-import</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> eslint-config-airbnb-base</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>然後在你的 <code class=\"language-text\">.eslintrc</code> 加入 <code class=\"language-text\">&quot;extends&quot;: &quot;airbnb-base&quot;</code> 就可以了。</p>\n<p>Airbnb 的完整代碼規範可以在 <a href=\"https://github.com/airbnb/javascript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">airbnb/javascript</a> 上閱讀。</p>\n<h2 id=\"standard\"><a href=\"#standard\" aria-label=\"standard permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Standard</h2>\n<p>除了 Airbnb 的代碼規範之外，有很多高科技公司在用 Standard 的代碼規範，包括但不限於 NPM, Github, mongoDB, ZenDesk。</p>\n<p><img src=\"https://i.imgur.com/fw8cwny.jpg\" alt=\"Companies that use Standard\"></p>\n<p>這裡是官網提到的一些 Standard 規範：</p>\n<ul>\n<li>兩個空白 － 當作縮排</li>\n<li>字串用單引號 － 除非要避免跳脫字元</li>\n<li>沒有不必要的變數</li>\n<li>不要加分號</li>\n<li>絕對不要用 ( 、 [ 當開頭</li>\n<li>這是不用分號 唯一 可能遇到的問題 － 那就自動幫你檢查吧！</li>\n<li>關鍵字後加空白 if (condition) { ... }</li>\n<li>函數名稱後加空白 function name (arg) { ... }</li>\n<li>統一用 === 取代 == － 但是 obj == null 可以用來檢查 null || undefined。</li>\n<li>一定要例外處理 node.js 中的 err 參數</li>\n<li>一定要對瀏覽器中的全域變數加上 window 前綴 － 除了 document 和 navigator 可以不用</li>\n<li>避免使用那些命名得很爛的全域變數，像是 open 、 length 、 event 和 name。</li>\n</ul>\n<p>你可以透過 <code class=\"language-text\">eslint-config-standard</code> 來自動校對，改善你的代碼。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> eslint-config-standard</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><a href=\"https://github.com/standard/standard/blob/master/docs/README-zhtw.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Standard 繁體中文文檔</a>\n<a href=\"https://github.com/standard/standard/blob/master/docs/README-zhcn.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Standard 簡體中文文檔</a></p>\n<h2 id=\"idiomatic\"><a href=\"#idiomatic\" aria-label=\"idiomatic permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Idiomatic</h2>\n<p>它的思想是無論誰改進項目的代碼，都應該像只有一個人寫代碼。</p>\n<p>你可以透過 eslint-config-idiomatic 來自動校對，改善你的代碼。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> eslint-config-idiomatic</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><a href=\"https://github.com/rwaldron/idiomatic.js/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Idiomatic - Github</a></p>\n<p>備註：</p>\n<p>use version ^3.0.0 for ESLint version ^3.x.x.\nuse version ^2.0.0 for ESLint version ^2.x.x.\nuse version ^1.0.0 for ESLint version ^1.x.x.</p>\n<p>在你的 .eslintrc 內輸入：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{\n  &quot;extends&quot;: &quot;idiomatic&quot;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"google\"><a href=\"#google\" aria-label=\"google permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Google</h2>\n<p>你都可以像 Google 工程師一樣編寫同樣風格的代碼。</p>\n<p>你可以透過 eslint-config-google 來自動校對，改善你的代碼。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> eslint eslint-config-google</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>我們可以在 <a href=\"https://google.github.io/styleguide/jsguide.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google - GitHub Pages</a> 上閱讀它的代碼規範。</p>\n<h2 id=\"jquery\"><a href=\"#jquery\" aria-label=\"jquery permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>jQuery</h2>\n<p>如果你想要幫助 jQuery 改善它的代碼的話，你可以在 <a href=\"https://contribute.jquery.org/style-guide/js/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jQuery 的官網</a> 上閱讀它的代碼規範。</p>\n<h2 id=\"總結\"><a href=\"#%E7%B8%BD%E7%B5%90\" aria-label=\"總結 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>總結</h2>\n<p>自從看了《Clean Code》一書之後，我感覺寫代碼不只是一種手藝，還是藝術。可能你看過去感覺都是 JavaScript，但是讀著讀著一些開源項目，就會感受到代碼可以有多麼優雅，同時可以有多麼不雅。。。為了減少他人說 WTF 的機會，我們還是研究一下如何把自己的代碼變得更加優雅吧。</p>\n<p>如果你是第一次使用 JavaScript 代碼規範的話，那麼你可以選擇 Airbnb 作為你的代碼規範。Airbnb 的文檔可閱性是不錯的，而且把現有項目加上 eslint 也不是什麼難事。</p>\n<p>如果要仔細地說代碼規範的好處，重要性的話，我們可以在下一篇文章討論。</p>\n<h2 id=\"參考資料\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\" aria-label=\"參考資料 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考資料</h2>\n<ol>\n<li><a href=\"http://www.cbs.dtu.dk/courses/27610/clean_code_index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Clean Code 電子書</a></li>\n<li><a href=\"https://codeburst.io/5-javascript-style-guides-including-airbnb-github-google-88cbc6b2b7aa\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">5 JavaScript Style Guides — Including AirBnB, GitHub, &#x26; Google</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#%E5%89%8D%E8%A8%80\">前言</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#airbnb\">Airbnb</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#standard\">Standard</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#idiomatic\">Idiomatic</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#google\">Google</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#jquery\">jQuery</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#%E7%B8%BD%E7%B5%90\">總結</a></li>\n<li><a href=\"/2017/11/08/you-dont-know-javascript-eslint-config/#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\">參考資料</a></li>\n</ul>","excerpt":"前言良好的代碼規範，能夠提高代碼的可閱性，使得項目維護更友好。除了自己設定一個規範外，我們也可以借鑒一下現在流行的代碼規範，讓我們成長之後，再去看細節。Code Quality: Good Code vs Bad CodeAirbnbAirbnb…","fields":{"slug":"/2017/11/08/you-dont-know-javascript-eslint-config/"},"frontmatter":{"id":"https://calpa.me/2017/11/08/you-dont-know-javascript-eslint-config/","title":"你可能不知道的 JavaScript 代碼規範","slug":"/2017/11/08/you-dont-know-javascript-eslint-config/","date":"2017-11-08T03:48:03.125Z","headerImage":null}},"previous":null,"next":null}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"4b058bcf-8206-566a-803d-a61e0a6394a4","index":35}}