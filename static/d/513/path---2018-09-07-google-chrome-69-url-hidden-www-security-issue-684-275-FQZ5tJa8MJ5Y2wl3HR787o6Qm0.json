{"data":{"content":{"edges":[{"node":{"id":"f5a7ed49-1a90-53ac-8fb0-a37f94f46236","html":"<h2 id=\"前言\"><a href=\"#%E5%89%8D%E8%A8%80\" aria-label=\"前言 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>前言</h2>\n<p>定期更新軟件可以修復其自身的漏洞，即使是 Google Chrome，它的更新也是有安全問題的。在 Chrome 69 的版本裡面，<code class=\"language-text\">www</code> 被認定為 <code class=\"language-text\">trivial</code> 的子域名，因而隱藏了它之前的字眼。雖然可以提升一點用戶體驗，但卻帶來了另外一個風險點。。。</p>\n<h2 id=\"瀏覽器隱藏域名\"><a href=\"#%E7%80%8F%E8%A6%BD%E5%99%A8%E9%9A%B1%E8%97%8F%E5%9F%9F%E5%90%8D\" aria-label=\"瀏覽器隱藏域名 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>瀏覽器隱藏域名</h2>\n<blockquote>\n<p>In the Omnibox, hide the scheme and <strong>trivial</strong> subdomains from steady state displayed URLs. Hidden portions are restored during editing. For Mac, this flag will have no effect unless MacViews is enabled. – Mac, Windows, Linux, Chrome OS, Android</p>\n</blockquote>\n<p>這裡是說多功能框（地址欄），會自動隱藏 <code class=\"language-text\">scheme</code> 和不重要的子域名。而這些部分在編輯地址欄的時候會重新出現。</p>\n<h2 id=\"問題\"><a href=\"#%E5%95%8F%E9%A1%8C\" aria-label=\"問題 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>問題</h2>\n<p>然而，瀏覽器隱藏 <code class=\"language-text\">https://www</code> 這個字時，不完整的 url 讓我們無法識別一些網站的正確性，比如說以下的這些例子：</p>\n<table>\n<thead>\n<tr>\n<th>網站</th>\n<th>正確</th>\n<th>錯誤</th>\n<th>顯示</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NTP Pool Project</td>\n<td><a href=\"http://www.pool.ntp.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.pool.ntp.org</a></td>\n<td>pool.ntppool.org</td>\n<td>pool.ntppool.org</td>\n</tr>\n<tr>\n<td>citibank</td>\n<td><a href=\"https://www.citibank.com.sg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.citibank.com.sg</a></td>\n<td>citibank.com.sg</td>\n<td>citibank.com.sg</td>\n</tr>\n<tr>\n<td>tumblr</td>\n<td><a href=\"https://www.tumblr.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.tumblr.com/</a></td>\n<td><a href=\"http://m.tumblr.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://m.tumblr.com</a></td>\n<td>tumblr.com</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"https://i.imgur.com/qNfNkxV.jpg\" alt=\"tumblr.com\"></p>\n<p>可能你會覺得用戶會很小心地輸入域名，所以隱藏子域名不會構成問題，那麼下面這個例子就是一個很大的問題了：</p>\n<p><code class=\"language-text\">http://www.example.www.example.com/</code> 會被縮寫為 <code class=\"language-text\">example.example.com</code></p>\n<p><img src=\"https://i.imgur.com/xIc1KVo.jpg\" alt=\"example.com\"></p>\n<p>頂部的地址欄會把<code class=\"language-text\">www</code>前面的都刪去，只顯示後面的字，無論是怎麼說，兩個 url 根本不一樣的。</p>\n<h2 id=\"解決方法\"><a href=\"#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\" aria-label=\"解決方法 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解決方法</h2>\n<ol>\n<li>手動在地址欄輸入<code class=\"language-text\">chrome://flags/#omnibox-ui-hide-steady-state-url-scheme-and-subdomains</code> 禁止 <code class=\"language-text\">Omnibox UI Hide Steady-State URL Scheme and Trivial Subdomains</code></li>\n</ol>\n<p><img src=\"https://i.imgur.com/TrZNfdQ.jpg\" alt=\"chrome://flags/#omnibox-ui-hide-steady-state-url-scheme-and-subdomains\"></p>\n<ol start=\"2\">\n<li>加入討論，改變 Chrome 的默認做法</li>\n</ol>\n<h2 id=\"後記\"><a href=\"#%E5%BE%8C%E8%A8%98\" aria-label=\"後記 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>後記</h2>\n<p>Google Chrome 還是蠻多人用的，一更新就有很多人馬上更新了。我也不例外，雖然是看到地址欄的時候感覺怪怪的，但是沒有做過邊際測試的話，還是沒有發現這個問題的。。。</p>\n<p>如果你有什麼想法的話，可以到 Hacker News 裡面留言，或者在下方留言。</p>\n<h2 id=\"參考資料\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\" aria-label=\"參考資料 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考資料</h2>\n<ol>\n<li><a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=881410\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Incorrect transforms when stripping subdomains - Issue 881410</a></li>\n<li><a href=\"https://news.ycombinator.com/item?id=17927972\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Chrome 69: “www.” subdomain missing from URL - Hacker News</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/#%E5%89%8D%E8%A8%80\">前言</a></li>\n<li><a href=\"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/#%E7%80%8F%E8%A6%BD%E5%99%A8%E9%9A%B1%E8%97%8F%E5%9F%9F%E5%90%8D\">瀏覽器隱藏域名</a></li>\n<li><a href=\"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/#%E5%95%8F%E9%A1%8C\">問題</a></li>\n<li><a href=\"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95\">解決方法</a></li>\n<li><a href=\"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/#%E5%BE%8C%E8%A8%98\">後記</a></li>\n<li><a href=\"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\">參考資料</a></li>\n</ul>","excerpt":"前言定期更新軟件可以修復其自身的漏洞，即使是 Google Chrome，它的更新也是有安全問題的。在 Chrome 69 的版本裡面， 被認定為  的子域名，因而隱藏了它之前的字眼。雖然可以提升一點用戶體驗，但卻帶來了另外一個風險點。。。瀏覽器隱藏域名In the…","fields":{"slug":"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/"},"frontmatter":{"id":"20180907a","title":"Google Chrome 69 地址欄隱藏子域名後暴露的安全問題","slug":"/2018/09/07/google-chrome-69-url-hidden-www-security-issue/","date":"2018-09-07T03:48:03.125Z","headerImage":null}},"previous":null,"next":null}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"f5a7ed49-1a90-53ac-8fb0-a37f94f46236","index":12}}