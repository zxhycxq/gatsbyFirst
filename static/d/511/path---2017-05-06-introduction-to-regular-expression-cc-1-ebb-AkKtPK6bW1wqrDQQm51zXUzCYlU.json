{"data":{"content":{"edges":[{"node":{"id":"406f6828-1acc-5c7a-ada6-c3ccdce33656","html":"<p>如果你遇到 CreateListFromArrayLike 的報錯的話，那麼可以看看代碼裡面調用 apply 方法的地方，call 是用0個或者更多的參數，而 apply 則是用一個數組。</p>\n<h2 id=\"錯誤例子\"><a href=\"#%E9%8C%AF%E8%AA%A4%E4%BE%8B%E5%AD%90\" aria-label=\"錯誤例子 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>錯誤例子</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Uncaught TypeError: CreateListFromArrayLike called on non-object</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h2 id=\"正確例子\"><a href=\"#%E6%AD%A3%E7%A2%BA%E4%BE%8B%E5%AD%90\" aria-label=\"正確例子 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>正確例子</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span>\nMath<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 10</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h2 id=\"解釋\"><a href=\"#%E8%A7%A3%E9%87%8B\" aria-label=\"解釋 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解釋</h2>\n<p>當調用 <code class=\"language-text\">Function.prototype.apply</code> 的時候，它會調用內置抽象操作 CreateListFromArrayLike。</p>\n<h2 id=\"createlistfromarraylike\"><a href=\"#createlistfromarraylike\" aria-label=\"createlistfromarraylike permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CreateListFromArrayLike</h2>\n<p><code class=\"language-text\">CreateListFromArrayLike ( obj [ , elementTypes ] )</code></p>\n<p>CreateListFromArrayLike 是一個ECMAScript的內置抽象操作 (Abstract Operation)，用於建立一個 List 的值，它的元素由類似數組的對象的索引屬性提供。<code class=\"language-text\">elementTypes</code> 是一個 List，只允許自身建立的 <code class=\"language-text\">list</code> 擁有ECMAScript Language 類型的值，比如<code class=\"language-text\">undefined, null, boolean</code>等。在調用的時候，它會執行以下步驟:</p>\n<ol>\n<li>如果沒有定義<code class=\"language-text\">elementTypes</code>的話，它會被定義為 Undefined, Null, Boolean, String, Symbol, Number, Object 。</li>\n<li>如果<code class=\"language-text\">Type(obj)</code>的類型不是Object，拋出TypeError 錯誤。</li>\n<li>定義<code class=\"language-text\">len</code>為<code class=\"language-text\">obj</code>的length。</li>\n<li>建立一個空的List <code class=\"language-text\">list</code>。</li>\n<li>定義<code class=\"language-text\">index</code>為0</li>\n<li>\n<p>當index小於len的時候，重複以下步驟：</p>\n<ol>\n<li>定義<code class=\"language-text\">indexName</code>為!ToString(index)</li>\n<li>定義<code class=\"language-text\">next</code> 為?Get(obj, indexName)</li>\n<li>如果<code class=\"language-text\">Type(next)</code>的類型不存在於<code class=\"language-text\">elementType</code>裡面，拋出 TypeError 錯誤。</li>\n<li>在<code class=\"language-text\">list</code>的最後增加next (<code class=\"language-text\">list.push(next)</code>)</li>\n<li><code class=\"language-text\">index</code>的值加1</li>\n</ol>\n</li>\n<li>返回<code class=\"language-text\">list</code></li>\n</ol>\n<h2 id=\"參考資料\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\" aria-label=\"參考資料 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考資料</h2>\n<ol>\n<li><a href=\"https://tc39.github.io/ecma262/#sec-function.prototype.apply\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Function.prototype.apply - ECMAScript 2018</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"/2017/05/01/CreateListFromArrayLike-problem-solution/#%E9%8C%AF%E8%AA%A4%E4%BE%8B%E5%AD%90\">錯誤例子</a></li>\n<li><a href=\"/2017/05/01/CreateListFromArrayLike-problem-solution/#%E6%AD%A3%E7%A2%BA%E4%BE%8B%E5%AD%90\">正確例子</a></li>\n<li><a href=\"/2017/05/01/CreateListFromArrayLike-problem-solution/#%E8%A7%A3%E9%87%8B\">解釋</a></li>\n<li><a href=\"/2017/05/01/CreateListFromArrayLike-problem-solution/#createlistfromarraylike\">CreateListFromArrayLike</a></li>\n<li><a href=\"/2017/05/01/CreateListFromArrayLike-problem-solution/#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\">參考資料</a></li>\n</ul>","excerpt":"如果你遇到 CreateListFromArrayLike 的報錯的話，那麼可以看看代碼裡面調用 apply 方法的地方，call 是用0個或者更多的參數，而 apply…","fields":{"slug":"/2017/05/01/CreateListFromArrayLike-problem-solution/"},"frontmatter":{"id":"https://calpa.me/2017/05/01/CreateListFromArrayLike-problem-solution/","title":"CreateListFromArrayLike called on non-object 報錯的解決方法","slug":"/2017/05/01/CreateListFromArrayLike-problem-solution/","date":"2017-05-01T03:48:03.125Z","headerImage":null}},"previous":null,"next":null}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"a926e054-4a78-5380-827c-884fac4b6687","index":44}}